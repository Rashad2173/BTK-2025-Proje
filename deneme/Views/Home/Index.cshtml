@model deneme.Models.HomeViewModel
@{
    ViewData["Title"] = "Ana Sayfa";
    Layout = "_Layout";
}
<div id="defaultContent">
    <!-- ──────────── Hero Slider (isteğe bağlı) ──────────── -->
    <section class="hero-slider mb-4">
        <!-- buraya slider html'in varsa koyabilirsin -->
    </section>

    <div class="container">

        <!-- ──────────── KATEGORİLER ──────────── -->
        <section class="category-section mb-5">
            <h2 class="section-title fw-bold mb-4">Kategoriler</h2>
            <div class="row g-3">
                @foreach (var category in Model.Categories)
                {
                    <div class="col-lg-2 col-md-4 col-6">
                        <div class="category-card text-center p-4 border rounded-3 h-100 hover-lift">
                            <div class="category-icon mb-3">
                                <i class="@category.Icon @category.Color" style="font-size:2.5rem;"></i>
                            </div>
                            <h6 class="fw-semibold mb-0">@category.Name</h6>
                        </div>
                    </div>
                }
            </div>
        </section>

        <!-- ──────────── FLAŞ İNDİRİMLER ──────────── -->
        <section class="flash-sales mb-5">
            <h2 class="section-title fw-bold mb-4">
                <i class="fas fa-bolt text-warning me-2"></i>Flaş İndirimler
            </h2>

            <div class="row g-4">
                @foreach (var product in Model.FlashSaleProducts)
                {
                    <div class="col-lg-3 col-md-4 col-6">
                        <!-- Kartı tamamen anchor ile sarıyoruz -->
                        <a asp-controller="Product" asp-action="Details"
                           asp-route-id="@product.Id"
                           class="text-decoration-none text-dark">

                            <div class="product-card border rounded-3 overflow-hidden h-100 hover-lift">

                                <!-- Görsel + indirim rozeti -->
                                <div class="product-image position-relative">
                                    <img src="@product.ImageUrl" alt="@product.Name" class="img-fluid w-100" />
                                    @if (product.DiscountPercentage > 0)
                                    {
                                        <div class="discount-badge position-absolute top-0 start-0 bg-danger text-white px-2 py-1 m-2 rounded">
                                            %@product.DiscountPercentage
                                        </div>
                                    }
                                </div>

                                <!-- Ürün bilgisi -->
                                <div class="product-info p-3">
                                    <h6 class="product-title mb-2">@product.Name</h6>

                                    <span class="fw-bold text-danger fs-5">
                                        @product.Price.ToString("C", new System.Globalization.CultureInfo("tr-TR"))
                                    </span>

                                    @if (product.OldPrice.HasValue)
                                    {
                                        <span class="text-muted text-decoration-line-through ms-2">
                                            @product.OldPrice.Value.ToString("C", new System.Globalization.CultureInfo("tr-TR"))
                                        </span>
                                    }
                                </div>
                            </div>
                        </a>
                    </div>
                }
            </div>
        </section>

        <!-- ──────────── POPÜLER ÜRÜNLER ──────────── -->
        <section class="popular-products mb-5">
            <h2 class="section-title fw-bold mb-4">
                <i class="fas fa-fire text-danger me-2"></i>Popüler Ürünler
            </h2>

            <div class="row g-4">
                @foreach (var product in Model.PopularProducts)
                {
                    <div class="col-lg-2 col-md-3 col-6">
                        <a asp-controller="Product" asp-action="Details"
                           asp-route-id="@product.Id"
                           class="text-decoration-none text-dark">

                            <div class="product-card border rounded-3 overflow-hidden h-100 hover-lift">
                                <img src="@product.ImageUrl" alt="@product.Name" class="img-fluid w-100" />

                                <div class="product-info p-2">
                                    <h6 class="product-title small mb-1">@product.Name</h6>
                                    <span class="fw-bold text-primary">
                                        @product.Price.ToString("C", new System.Globalization.CultureInfo("tr-TR"))
                                    </span>
                                </div>
                            </div>
                        </a>
                    </div>
                }
            </div>
        </section>

    </div>

</div>
